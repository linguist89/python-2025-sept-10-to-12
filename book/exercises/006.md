(python_functions)=
# Session 6: Functions - Reusable Code Blocks

Functions are one of the most important concepts in programming! They allow you to write code once and use it many times. Think of functions as recipes that you can follow whenever you need to cook the same dish.

::::::{topic} Learning Objectives
By the end of this session, you will be able to:
- Create and call functions
- Pass parameters to functions
- Return values from functions
- Understand function scope
- Write reusable code with functions
::::::

## What are Functions?

A function is a block of code that performs a specific task. Instead of writing the same code over and over, you can create a function and call it whenever needed.

```python
# Simple function
def greet():
    print("Hello, World!")

# Call the function
greet()  # Output: Hello, World!
```

## Functions with Parameters

Parameters allow you to pass data into a function:

```python
# Function with parameters
def greet_person(name):
    print(f"Hello, {name}!")

# Call the function with different names
greet_person("Alice")  # Output: Hello, Alice!
greet_person("Bob")    # Output: Hello, Bob!
```

## Functions with Multiple Parameters

You can pass multiple parameters to a function:

```python
# Function with multiple parameters
def greet_with_age(name, age):
    print(f"Hello, {name}! You are {age} years old.")

# Call the function
greet_with_age("Alice", 25)  # Output: Hello, Alice! You are 25 years old.
```

## Functions that Return Values

Functions can return values using the `return` statement:

```python
# Function that returns a value
def add_numbers(a, b):
    result = a + b
    return result

# Use the returned value
sum_result = add_numbers(5, 3)
print(sum_result)  # Output: 8

# You can also use the function directly
print(add_numbers(10, 20))  # Output: 30
```

## Practical Examples

### Example 1: Calculator Functions

```python
# Calculator functions
def add(x, y):
    return x + y

def subtract(x, y):
    return x - y

def multiply(x, y):
    return x * y

def divide(x, y):
    if y != 0:
        return x / y
    else:
        return "Cannot divide by zero!"

# Use the functions
print(add(10, 5))        # Output: 15
print(subtract(10, 5))   # Output: 5
print(multiply(10, 5))   # Output: 50
print(divide(10, 5))     # Output: 2.0
print(divide(10, 0))     # Output: Cannot divide by zero!
```

### Example 2: String Functions

```python
# String manipulation functions
def format_name(first, last):
    return f"{first} {last}".title()

def create_email(first, last, domain="company.com"):
    return f"{first.lower()}.{last.lower()}@{domain}"

# Use the functions
full_name = format_name("john", "doe")
email = create_email("john", "doe")
print(full_name)  # Output: John Doe
print(email)      # Output: john.doe@company.com
```

## Practice Exercise

Create a program with functions to calculate the area and perimeter of different shapes:

```python
# Shape calculator functions
import math

def rectangle_area(length, width):
    return length * width

def rectangle_perimeter(length, width):
    return 2 * (length + width)

def circle_area(radius):
    return math.pi * radius ** 2

def circle_perimeter(radius):
    return 2 * math.pi * radius

# Interactive shape calculator
print("Shape Calculator")
print("=" * 15)

shape = input("Enter shape (rectangle, circle): ").lower()

if shape == "rectangle":
    length = float(input("Enter length: "))
    width = float(input("Enter width: "))
    area = rectangle_area(length, width)
    perimeter = rectangle_perimeter(length, width)
    print(f"Area: {area}")
    print(f"Perimeter: {perimeter}")

elif shape == "circle":
    radius = float(input("Enter radius: "))
    area = circle_area(radius)
    perimeter = circle_perimeter(radius)
    print(f"Area: {area:.2f}")
    print(f"Perimeter: {perimeter:.2f}")

else:
    print("Invalid shape!")
```

::::{tip} Function Best Practices
- Use descriptive names for functions and parameters
- Keep functions small and focused on one task
- Use docstrings to document what your function does
- Return values instead of printing inside functions when possible
::::

::::{card} Quick Check
What will be the output of this code?
```python
def multiply(x, y):
    return x * y

result = multiply(3, 4)
print(result)
```
::::

::::{card} Quick Check
What's wrong with this function?
```python
def add_numbers(a, b):
    result = a + b
    print(result)

sum = add_numbers(5, 3)
print(sum * 2)
```
::::

## Real-World Example: Why Functions Matter

Imagine you're building a simple calculator app. You need to add, subtract, multiply, and divide numbers. Instead of writing the same code over and over again, you can create functions to do each operation.

**The problem with repeating code:**
```python
# Without functions - lots of repeated code
num1 = 10
num2 = 5
result1 = num1 + num2
print(f"10 + 5 = {result1}")

num3 = 20
num4 = 3
result2 = num3 + num4
print(f"20 + 3 = {result2}")

# This gets repetitive and hard to maintain!
```

**Real example:** In 2014, a security bug called "Heartbleed" affected millions of websites worldwide. The problem was in a function that was supposed to keep secure connections alive. The function didn't properly check the input it received, so hackers could trick it into giving away secret information like passwords and credit card numbers. This happened because the function wasn't designed to handle unexpected input safely.

**The programming lesson:**
This shows why it's important to:
- Always check the input your functions receive
- Make sure your functions handle unexpected situations
- Test your functions with different inputs
- Design functions that are safe and reliable

**Key takeaways:**
- Functions help you avoid repeating code
- Always validate the input your functions receive
- Test your functions thoroughly
- Make your functions clear and easy to understand

## Open-Ended Practice Questions

Try these simple exercises to practice creating and using functions:

1. **Question:** You're making a simple calculator. How would you create a function to add two numbers?

   **Self-Check:** Write a function called `add_numbers` that takes two parameters and returns their sum. Test it with different numbers like 5 and 3, or 10 and 20. Make sure it returns the correct answer.

2. **Question:** You want to create a function that greets someone by name. How would you do this?

   **Self-Check:** Write a function called `greet` that takes a name as a parameter and prints "Hello, [name]!" Test it with different names like "Alice", "Bob", and "Charlie".

3. **Question:** You're making a simple tip calculator. How would you create a function that calculates a 20% tip?

   **Self-Check:** Write a function called `calculate_tip` that takes a bill amount and returns the tip amount. Test it with different bill amounts like $25, $50, and $100. Make sure the math is correct.

4. **Question:** What's the difference between a function that prints something and a function that returns something?

   **Self-Check:** Create two functions:
   - One that prints "Hello" and returns nothing
   - One that returns "Hello" but doesn't print anything
   
   Try using both functions and see what happens. Which one is more useful?

5. **Question:** You're making a simple grade calculator. How would you create a function that converts a percentage to a letter grade?

   **Self-Check:** Write a function that takes a percentage score and returns a letter grade (A, B, C, D, or F). Test it with different scores like 95, 85, 75, 65, and 55. Make sure it returns the correct letter grade for each score.